<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Convertidor HEIC a JPG/PNG</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <svg class="icon-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                    <circle cx="8.5" cy="8.5" r="1.5"></circle>
                    <polyline points="21 15 16 10 5 21"></polyline>
                </svg>
                <h1 class="title">Convertidor HEIC a JPG/PNG</h1>
            </div>
            <p class="subtitle">Convierte tus imágenes HEIC a JPG o PNG sin perder calidad. Rápido, fácil y gratuito.</p>
        </header>

        <!-- Main Card -->
        <div class="card">
            <div class="card-header">
                <h2 class="card-title">Convertir Imagen</h2>
                <p class="card-description">Selecciona una imagen HEIC y elige el formato de salida deseado</p>
            </div>
            
            <div class="card-content">
                <!-- File Upload -->
                <div class="upload-area" id="uploadArea">
                    <input type="file" id="fileInput" accept=".heic,.heif,.HEIC,.HEIF,image/heic,image/heif" hidden>
                    <svg class="upload-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="17 8 12 3 7 8"></polyline>
                        <line x1="12" y1="3" x2="12" y2="15"></line>
                    </svg>
                    <span class="upload-text" id="uploadText">Seleccionar imagen HEIC</span>
                    <span class="upload-hint">Haz clic para elegir un archivo</span>
                </div>

                <!-- Preview -->
                <div class="preview-container" id="previewContainer" style="display: none;">
                    <label class="label">Vista previa</label>
                    <div class="preview-box">
                        <img id="previewImage" alt="Preview">
                    </div>
                </div>

                <!-- Format Selection -->
                <div class="format-selection">
                    <label class="label">Formato de salida</label>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="format" value="JPEG" checked>
                            <span class="radio-label">JPG (Menor tamaño)</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="format" value="PNG">
                            <span class="radio-label">PNG (Mayor calidad)</span>
                        </label>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="button-group" id="buttonGroup">
                    <button class="btn btn-primary" id="convertBtn" disabled>
                        Convertir
                    </button>
                </div>

                <!-- Loading State -->
                <div class="loading" id="loading" style="display: none;">
                    <div class="spinner"></div>
                    <span>Convirtiendo...</span>
                </div>

                <!-- Success Message -->
                <div class="success-message" id="successMessage" style="display: none;">
                    <p id="successText">✓ Conversión completada exitosamente</p>
                </div>

                <!-- Error Message -->
                <div class="error-message" id="errorMessage" style="display: none;">
                    <p id="errorText"></p>
                </div>
            </div>
        </div>

        <!-- Info Cards -->
        <div class="info-grid">
            <div class="info-card">
                <h3>Sin pérdida de calidad</h3>
                <p>Conversión con calidad máxima preservando todos los detalles de tu imagen</p>
            </div>
            <div class="info-card">
                <h3>Rápido y sencillo</h3>
                <p>Convierte tus imágenes en segundos con solo unos clics</p>
            </div>
            <div class="info-card">
                <h3>Totalmente gratuito</h3>
                <p>Sin límites, sin registro, sin costos ocultos</p>
            </div>
        </div>
    </div>

    <!-- WebAssembly Libraries -->
    <script src="libheif-bundle.js"></script>
    <script src="app.js"></script>
</body>
</html>
